{{extend 'layout.html'}}


{{block head}}

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/meyer-reset/2.0/reset.min.css">
  <link rel="stylesheet" href="{{=URL('static', 'css/agregarDoc.css')}}">
  <link rel="stylesheet" type="text/css" href="{{=URL('static', 'css/servicios_modal.css')}}">
  <link rel="stylesheet" href="{{=URL('static', 'css/servicios_listado.css')}}">
  <link rel="stylesheet" href="{{=URL('static', 'css/servicios_template_modal.css')}}">
   <link rel="stylesheet" href="{{=URL('static', 'css/bootstrap-datepicker3.css')}}">
  <script src="{{=URL('static', 'js/servicios_template_modal.js')}}"></script>
  <link rel="stylesheet" href="{{=URL('static', 'css/ficha_personal.css')}}">
  <!-- DataTables -->
  <link href="{{=URL('static', 'plugins/datatables/jquery.dataTables.min.css')}}" rel="stylesheet" type="text/css" />
  <link href="{{=URL('static', 'plugins/datatables/buttons.bootstrap.min.css')}}" rel="stylesheet" type="text/css" />
  <link href="{{=URL('static', 'plugins/datatables/responsive.bootstrap.min.css')}}" rel="stylesheet" type="text/css" />

 

  <script src="{{=URL('static', 'js/bootstrap-datepicker.min.js')}}"></script>


  <link rel="stylesheet" type="text/css" href="{{=URL('static', 'css/servicios_modal.css')}}">
  <link rel="stylesheet" href="{{=URL('static', 'css/servicios_listado.css')}}">
  <link rel="stylesheet" href="{{=URL('static', 'css/servicios_template_modal.css')}}">
  
  <!-- Web2py JS - Especialmente para AJAX -->
  <script src="{{=URL('static', 'js/web2py.js')}}"></script>




  <style>

    h4{
      margin-top: 15px;
    }

    table.dataTable thead > tr > th {
      padding-left: 8px;
      padding-right: 23px;
      vertical-align: middle;
    }

    #datatable_filter{
      text-align: left;
      margin-top: -65px
    }

    .table-responsive{
      overflow-x: visible;
    }

    .row{
      margin-right:0px!important;
    }

    .wrapper {
      max-width: 1600px;
      margin: auto;
      margin-top: 80px;
    }

    .tab-wrapper {
      text-align: center;
      display: block;
      margin: auto;
      max-width: 400px;
    }

    .tabs {
      margin: 0;
      padding: 0;
      display: flex;
      justify-content: center;
    }

    .tab-link {
      margin: 0 1%;
      list-style: none;
      padding: 10px 20px;
      color: #aaa;
      cursor: pointer;
      font-weight: 700;
      transition: all ease 0.5s;
      border-bottom: solid 3px rgba(255, 255, 255, 0);
      letter-spacing: 1px;
      font-size: 20px;
    }

    .tab-link:hover {
      color: #999;
      border-color: #999;
    }

    .tab-link.active {
      color: #333;
      border-color: #333;
    }

    .tab-link:nth-of-type(1).active {
      background-color: #1790D2;
      color: white;
      border-color: #eaeaea;
      vertical-align: middle;
    }

    .tab-link:nth-of-type(2).active {
      background-color: #1790D2;
      color: white;
      border-color: #eaeaea;
      vertical-align: middle;
    }

    .tab-link:nth-of-type(4).active {
      background-color: #1790D2;
      color: white;
      border-color: #eaeaea;
      vertical-align: middle;
    }

    .tab-link:nth-of-type(5).active {
      background-color: #1790D2;
      color: white;
      border-color: #eaeaea;
      vertical-align: middle;
    }

    .tab-link:nth-of-type(6).active {
      background-color: #1790D2;
      color: white;
      border-color: #eaeaea;
      vertical-align: middle;
    }

    .tab-link:nth-of-type(7).active {
      background-color: #1790D2;
      color: white;
      border-color: #eaeaea;
      vertical-align: middle;
    }

    .tab-link:nth-of-type(3).active {
      background-color: #1790D2;
      color: white;
      border-color: #eaeaea;
      vertical-align: middle;
    }

    .content-wrapper {
      padding: 20px 80px;
    }

    .tab-content {
      display: none;
      text-align: left;
      color:  #464646;
      font-weight: 200;
      font-size: 20px;
      opacity: 0;
      transform: translateY(15px);
      animation: fadeIn 0.5s ease 1 forwards;
    }

    .tab-content.active {
      display: block;
    }

    @keyframes fadeIn {
      100% {
        opacity: 1;
        transform: none;
      }
    }

    .grid-container {
      display: grid;
      width: 100%;
      margin: 0 auto;
      grid-template-columns: 35% 65%;
      justify-content: center;
    }

    .grid-item {
      padding: 10px;
      text-align: left;
      border-bottom: 1px solid #adadad;  
       
    }


  </style>  




{{end}}


{{block center}}
<nav class="navbar navbar-inverse navbar-fixed-top breadcrumbs">
  <div class="breadcrumb">
  <a class="breadcrumb-item" href="{{=URL('..', 'sigulab2')}}">Inicio</a>
  <a class="breadcrumb-item" href="{{=URL('..', 'sigulab2','informacion_documentada','')}}">Información Documentada</a>
  <a class="breadcrumb-item" href="{{=URL('informacion_documentada', 'lista_documentos')}}">Listado de Documentos</a>
  <span class="breadcrumb-item active">Ficha</span>
  </div>
</nav>

  {{for doc in documentos:}}

  <div class="row" style="margin-bottom: 50px;">
    <div class="col-md-1">
    </div>
    <div class="col-md-1">
      <a  href="{{=URL('informacion_documentada', 'lista_documentos')}}"><i class="fa fa-arrow-left fa-2x" style="background-color: #337ab7; color: white; border-radius: 50%; padding: 10px;"></i></h2></a>
    </div>
    <div class="col-md-7">
      <h3 style="text-align: center; margin-left: 18%;"> {{=doc.nombre_doc.upper()}} </h3>
      <h4 style="text-align: center; margin-left: 18%;">{{=doc.codigo}}</h4>
    </div>
    <div class="col-md-3">
      <form method="POST" style="display: inline-block;">
        {{if doc.estatus!="Aprobado":}}
          <p onclick="estatus()" style="display: inline-block;">
            <button type="button" id="botonModal" data-toggle="modal" data-target="#adddoc"  class="btn btn-primary btn-lg" style="border-radius: 50%; text-align: center; background-color: #337ab7; margin-right: 20px; display: inline-block;"><i class="fa fa-pencil fa-2x" aria-hidden="true"></i></button>
          </p>
        {{pass}}  
      </form>
      <form method="POST" style="display: inline-block;">  

        {{if doc.visibilidad == "Si":}}
          <input type="hidden" name="visibilidad" value="No">
          <button type="submit" class="btn btn-info btn-lg" style="border-radius: 50%; text-align: center; background-color: #337ab7; margin-right: 20px; display: inline-block;"><i class="fa fa-eye-slash fa-2x" aria-hidden="true"></i></button>
        {{else:}}
          <input type="hidden" name="visibilidad" value="Si">
          <button type="submit" class="btn btn-info btn-lg" style="border-radius: 50%; text-align: center; background-color: #337ab7; margin-right: 20px; display: inline-block;"><i class="fa fa-eye fa-2x" aria-hidden="true"></i></button>
        {{pass}}  
      </form>  
      <button type="button" class="btn btn-danger btn-lg" data-toggle="modal" data-target="#modalEliminar" value="eliminar" style="border-radius: 50%; text-align: center; background-color: red; margin-right: 20px; display: inline-block;"><i class="fa fa-trash-o fa-2x" aria-hidden="true"></i></button>
      
          
    </div>
  </div>  

  





  <div class="wrapper">
      
    <div class="tab-wrapper">
      <ul class="tabs">
        <li class="tab-link active" data-tab="1">Información General</li>
        <li class="tab-link" data-tab="2">Ubicación</li>
        <li class="tab-link" data-tab="3">Historial de Revisión</li>    
      </ul>
    </div>

    <div class="content-wrapper">
      <div id="tab-1" class="tab-content active">
        <div class="grid-container">

          <div class="grid-item">
            Código del Documento
          </div>
          <div class="grid-item" id="ans">
            {{=doc.codigo}}
          </div>
          <div class="grid-item">
            Tipo
          </div>
          <div class="grid-item" id="ans">
            {{=doc.tipo_doc}}
          </div>
          <div class="grid-item">
            Nombre del Documento
          </div>
          <div class="grid-item" id="ans">
            {{=doc.nombre_doc}}
          </div>
          <div class="grid-item">
            Objetivo
          </div>
          <div class="grid-item" id="ans">
            {{=doc.objetivo}}
          </div>
          <div class="grid-item">
            Estatus
          </div>
          <div class="grid-item" id="ans">
            {{=doc.estatus}}
          </div>
          <div class="grid-item">
            Período de Revisión
          </div>
          <div class="grid-item" id="ans">
            {{=doc.periodo_rev}}
          </div>

          

        </div>
      </div>

      <div id="tab-2" class="tab-content">
        <div class="grid-container">
          <div class="container" style="padding: 0px; width: 1500px;">
            <div class="row">

              <br>
              <div class="table-responsive no-padding no-margin">
                <table id="datatable" class="table table-hover table-striped dt-responsive display tablaListado" cellspacing="0" width="100%">
                  <div id="buttons" style="text-align: right; " >
                

              </div>
              <br>
                  <thead>


                    <tr id="titulosListado">
                      <th class="camposTabla linksNombres">Responsable</th>
                      <th class="camposTabla linksNombres">Elaborado por</th>
                      <th class="camposTabla linksNombres">Elaborador de revisión de contenidos</th>
                      <th class="camposTabla linksNombres">Fecha de revisión de contenido</th>
                      <th class="camposTabla linksNombres">Elaborador de evisión de especificaciones</th>
                      <th class="camposTabla linksNombres">Fecha de revisión de especificaciones</th>
                      <th class="camposTabla linksNombres">Fecha de revisión por el Consejo Asesor</th>

                    </tr>
                  </thead>

                  <tbody>

                  <tr>

                    <td class="camposTabla">{{=doc.responsable}}</td>
                    <td class="camposTabla">{{=doc.elaborador0}}, {{=doc.elaborador1}}, {{=doc.elaborador2}}, {{=doc.elaborador3}}, {{=doc.elaborador4}}.</td>
                    <td class="camposTabla">{{=doc.rev_contenido_realizado_por}}</td>
                    <td class="camposTabla">{{=doc.fecha_rev_contenido}}</td>
                    <td class="camposTabla">{{=doc.rev_especficaciones_doc_realizado_por}}</td>
                    <td class="camposTabla">{{=doc.fecha_rev_especificaciones_doc}}</td>
                    <td class="camposTabla">{{=doc.fecha_rev_por_consejo_asesor}}</td>

                  </tr>
       
                  </tbody>


                </table>
              </div>
            </div>
          </div>
          


        </div>
      </div>

      <div id="tab-3" class="tab-content">
        <div class="grid-container">


          <div class="grid-item">
            Código de registro de Ubicacion
          </div>
          <div class="grid-item" id="ans">
              {{=doc.cod_control_cambio}}
          </div>
          
          <div class="grid-item">
            Carpeta electrónica
          </div>
          <div class="grid-item" id="ans">
            {{=doc.registro_electronico}}
          </div>

          <div class="grid-item">
            Archivo electrónico
          </div>
          <div class="grid-item" id="ans">
            {{=doc.ubicacion_electronica}}
          </div>

          <div class="grid-item">
            Ubicación física del documento
          </div>
          <div class="grid-item" id="ans">
            {{=doc.ubicacion_fisica}}
          </div>

        </div>
      </div>

    </div>
    
  </div>








<div class="modal fade" id="adddoc" role="dialog">
<div class="modal-dialog">

  <!-- Modal content-->
  <div class="modal-content">

    <!-- Modal Header -->
    <div class="modal-header addHeader">
      <div class="row addRow" id="rowHeader">
        <div class="col-sm-1" id="col1Header">
          <div class="container" id="plus">
            <h1 id="agregar">+</h1>
          </div>
        </div>
          <div class="col-sm-11" id="col11Header">
          <h4 class="modal-title" id="nuevoServicio">Editar Documento</h4>
        </div>
      </div>
    </div>
    <!-- Fin Modal Header -->
      
    <!-- Modal Body -->
    <div class="modal-body addBody">
    <div class="row addRow">
      <div class="col-md-12 form-box">
        <form id="formularioCarga" class="registration-form" method="post">

          <!-- Primer Paso -->
          <fieldset class="formField">
            <div class="form-bottom" data-step="1" data-title="Primer Paso">
              <!-- Aqui va la barra lateral -->
              <div class="col-sm-1 col1Body">
                <span class="step activePass">1</span>
                <span class="step">2</span>
                <span class="step">3</span>
                <span class="step">4</span>             
                <span class="step">5</span>
                <span class="step">6</span>
                <span class="step">7</span>
              </div>
              <!-- Aqui va la informacion -->
              <div class="col-sm-11 col11Body">
                <h4 class="titulosForm">Fase de Planificación</h4>

                <!-- Campo de Nombre del Documento -->
                <div class="form-group" data-atributo="{{=doc.estatus}}">
                  <h5>Nombre del Documento</h5>
                  <input disabled='' type="text" class="input" name="nombre_documento" id="nombre_documento" placeholder="Nombre del Documento" value="{{=doc.nombre_doc}}" >
                </div>

                <!-- Campo de Tipo del Documento -->
                <div class="form-group"> 
                  <h5 class="tipo_doc" data-atributo="{{=doc.tipo_doc}}">Tipo del Documento</h5>
                  <select disabled="" name="tipo" id="tipo" class="input" >
                    <option value="{{=doc.tipo_doc}}">{{=doc.tipo_doc}}</option>
                  </select><br>
                   <input type="text" class="input"  id="otro_tipo" value="{{=doc.otro_tipo}}" >
                </div>

                <!-- Campo de Responsable del Documento -->
                <div class="form-group"> 
                  <h5>Responsable</h5>
                  <select disabled="" name="responsable" id="responsable" class="input" onchange="get_code(this)" >
                    <option value="{{=doc.responsable}}">{{=doc.responsable}}</option>
                    {{for dep in dependencias:}}
                    <option value="{{=dep.codigo_registro}}" id="{{=dep.nombre}}">{{=dep.nombre}}</option>
                    {{pass}}
                  </select>
                </div>
                  <!-- Campo de Código -->
              <div class="form-group">
                <h5>Código del documento</h5>
                <input disabled='' type="text" class="input" name="codigo" id="codigo" placeholder="Código Documento" onchange="codigoDoc()" value="{{=doc.codigo}}" >
              </div>

              <!-- Campo de Objetivos -->
              <div class="form-group">
                <h5>Objetivos del documento</h5>
                <input disabled='' type="text" class="input" name="objetivos" id="objetivos" placeholder="Objetivos" value="{{=doc.objetivo}}"> 
              </div>

              <!-- Campo de Período de Revisión -->
              <div class="form-group">
                <h5>Período de Revisión</h5>
                <select disabled="" name="periodo" id="periodo" class="input" >
                  <option value="{{=doc.periodo_rev}}">{{=doc.periodo_rev}}</option>
                  <option value="Semestral">Semestral</option>
                  <option value="Anual">Anual</option>
                  <option value="Bienal">Bienal</option>
                  <option value="Trienal">Trienal</option>
                  <option value="Quinquenal">Quinquenal</option>
                </select> 
              </div>



                <div style="position: fixed; bottom: 0; right: 0;">  
                  <button type="button" class="btn btn-next add botonForm"><i class="fa fa-arrow-right"></i></button>
                </div>
              </div>
            </div>  
          </fieldset>
          <!-- Fin Primer Paso -->
                
          <!-- Segundo Paso -->
          <fieldset class="formField">
            <div class="form-bottom" data-step="2" data-title="Segundo Paso">
            <!-- Aqui va la barra lateral -->
            <div class="col-sm-1 col1Body">
              <span class="step">1</span>
              <span class="step activePass">2</span>
              <span class="step">3</span>
              <span class="step">4</span> 
              <span class="step">5</span>
              <span class="step">6</span>
              <span class="step">7</span>
            </div>

            <!-- Aqui va la informacion -->
            <div class="col-sm-11 col11Body">
              
              <h4 class="titulosForm">Fase de Elaboración</h4>


    
                <!-- Campo de Número de Anexos -->
              <div class="form-group">
                <h5>Número de anexos</h5>

                <div id="p_anexo">
                  <p>

                  </p>
                </div>
                <div class="anexos">
                 <input type="text" class="input" disabled="" id="anexo1" data-atributo="{{=doc.anexo_code1}}" value="{{=doc.anexo_code1}}: {{=doc.anexo_name1}}"><br>
                  <input type="text" class="input" disabled="" id="anexo2"  data-atributo="{{=doc.anexo_code2}}" value="{{=doc.anexo_code2}}: {{=doc.anexo_name2}}"><br>
                  <input type="text" class="input" disabled="" id="anexo3"  data-atributo="{{=doc.anexo_code3}}" value="{{=doc.anexo_code3}}: {{=doc.anexo_name3}}"><br>
                  <input type="text" class="input" disabled="" id="anexo4"  data-atributo="{{=doc.anexo_code4}}" value="{{=doc.anexo_code4}}: {{=doc.anexo_name4}}"><br>
                  <input type="text" class="input" disabled="" id="anexo5"  data-atributo="{{=doc.anexo_code5}}" value="{{=doc.anexo_code5}}: {{=doc.anexo_name5}}">
                   <br>
                </div>
                <p id="sinAnexos">No posee anexos</p>
                
               
                <a href="#" id="addAnexo"><span class="fa fa-plus">Agregar Anexo</span></a>
              </div>



              <div style="position: fixed; bottom: 0; right: 0;">
                <button type="button" class="btn btn-previous botonForm"><i class="fa fa-arrow-left"></i></button>
                <button type="button" class="btn btn-next botonForm"><i class="fa fa-arrow-right"></i></button>
              </div>
            </div>
          </fieldset>
          <!-- Fin Segundo Paso -->

          <!-- Tercer Paso -->
          <fieldset class="formField">
            <div class="form-bottom" data-step="3" data-title="Tercer Paso">
            <!-- Aqui va la barra lateral -->
            <div class="col-sm-1 col1Body">
              <span class="step">1</span>
              <span class="step">2</span>
              <span class="step activePass">3</span>
              <span class="step">4</span> 
              <span class="step">5</span>
              <span class="step">6</span>
              <span class="step">7</span>
            </div>

            <!-- Aqui va la informacion -->
            <div class="col-sm-11 col11Body">
              
              <h4 class="titulosForm">Fase de Elaboración   -   Elaboradores</h4>



              <!-- Campo de Elaboradores del Documento -->
              <div class="form-group">
                <h5>Elaboradores del documento</h5>
                
                <div id="p_scents">
                  <p>

                 <input type="text" id="p_scnt" size="20" name="elaborador0" value="{{=doc.elaborador0}}" placeholder="Ingrese un elaborador" />

                  </p>
                </div>
              
                  <a href="#" id="addScnt"><p><span  class="fa fa-plus">Agregar Elaborador</span></p></a>
                                   
           
                                      
              </div>
              <div  id="elaboradores">
          

                   <input type="text" class="input" disabled="" id="elaborador0" name="elaborador0" data-atributo="{{=doc.elaborador0}}" value="{{=doc.elaborador0}}"><br>
                   
                   <input type="text" class="input" disabled="" id="elaborador1" name="elaborador2" data-atributo="{{=doc.elaborador1}}" value="{{=doc.elaborador1}}"><br>
                   
                   <input type="text" class="input" disabled="" id="elaborador2" name="elaborador3" data-atributo="{{=doc.elaborador2}}" value="{{=doc.elaborador2}}"><br>

                   <input type="text" class="input" disabled="" id="elaborador3" name="elaborador4" data-atributo="{{=doc.elaborador3}}" value="{{=doc.elaborador3}}"><br>

                   <input type="text" class="input" disabled="" id="elaborador4" name="elaborador5"data-atributo="{{=doc.elaborador4}}" value="{{=doc.elaborador4}}"><br>

                </div>
              <p id="sinElaboradores">No posee elaboradores</p>

               <!-- Campo de Fecha de entrega para revisión del Documento -->

            
                <div class="form-group">
                <h5>Fecha de elaboración</h5>
                <input disabled="" class="datepicker" name="fecha_prox_rev" id="fecha_prox_rev" type="text" data-placement="bottom" data-trigger="manual" data-content="Seleccione una fecha" value="{{=doc.fecha_prox_rev}}" data-date-end-date="0d">
              </div>


          
            
              <div style="position: fixed; bottom: 0; right: 0;">
                <button type="button" class="btn btn-previous botonForm"><i class="fa fa-arrow-left"></i></button>
                <button type="submit" class="btn btn-submit botonForm" id="elaborado" form="formularioCarga" name="elaborado" value="elaborado" ><i class="fa fa-floppy-o"></i></button>  
                <button type="button" class="btn btn-next botonForm"><i class="fa fa-arrow-right"></i></button>
              </div>
            </div>
          </fieldset>
          <!-- Fin Tercer Paso -->          

          <!-- Cuarto Paso -->
          <fieldset class="formField">
            <div class="form-bottom" data-step="4" data-title="Cuarto Paso">
            <!-- Aqui va la barra lateral -->
              <div class="col-sm-1 col1Body">
                <span class="step">1</span>
                <span class="step">2</span>
                <span class="step">3</span>
                <span class="step activePass">4</span>
                <span class="step">5</span> 
                <span class="step">6</span>
                <span class="step">7</span> 
              </div>
              
              <!-- Aqui va la informacion -->
              <div class="col-sm-11 col11Body">
              <h4 class="titulosForm"> Fase de Revisión </h4>

              <!-- Campo de responsable de la revisión de contenidos -->
              <div class="form-group">
                <h5>Revisión de contenidos</h5>
                <input disabled='' type="text" class="input" name="revision_contenido" id="revision_contenido" placeholder="Revisión de contenido realizado por:" value="{{=doc.rev_contenido_realizado_por}}"  />
              </div> 

              <!-- Campo de fecha de la revisión de contenidos -->
              <div class="form-group">
                <h5>Fecha de revisión de contenidos</h5>
                <input disabled="" class="datepicker" name="fecha_revision_contenidos" id="fecha_revision_contenidos" type="text"  data-trigger="manual" data-content="Seleccione una fecha" value="{{=doc.fecha_rev_contenido}}"  data-date-end-date="0d">
                <h6 style="color:red" id="error_rev_cont">La fecha de revisión de contenido debe ser menor a la fecha de elaboración</h6>
               
              </div>
 
              <!-- Campo de responsable de la revisión de especificaciones -->
              <div class="form-group">
                <h5>Revisión de especificaciones</h5>
                <input disabled='' type="text" class="input" name="revision_especificaciones" id="revision_especificaciones" placeholder="Revisión de especificaciones del documento realizado por:" value="{{=doc.rev_especficaciones_doc_realizado_por}}"  /> 
              </div> 

              <!-- Campo de fecha de la revisión de especificaciones -->
              <div class="form-group">
                <h5>Fecha de revisión de especificaciones</h5>
                <input disabled="" class="datepicker" name="fecha_revision_especificaciones" id="fecha_revision_especificaciones" type="text"  data-trigger="manual" data-content="Seleccione una fecha" value="{{=doc.fecha_rev_especificaciones_doc}}"  data-date-end-date="0d">

                <h6 style="color:red" id="error_rev_esp">La fecha de revisión de especificaciones debe ser menor a la fecha de elaboración</h6>

              </div> 


              <!-- Campo de confirmación si fué o no revisado por el consejo -->
              <div class="form-group">
                <div class="labelCA">
                <label>Revisión del Consejo Asesor - ULAB</label>
                <br>
                </div>
                 <div class="consejo_asesor" >
                  <input  type="radio" name="revision_consejo" value="1" onclick="agregarFecha()">Si
                  <br>
                  <input  type="radio" name="revision_consejo" value="2" onclick="eliminarFecha()">No
                </div>
                <div class="consejo_asesor_info" data-atributo="{{=doc.fecha_rev_por_consejo_asesor}}">
                  
                 <input type="text" class="input" disabled="" id="info_consejo_asesor" 
                 value="{{=doc.fecha_rev_por_consejo_asesor}}"> 
                </div>
                <div id="relleno"></div>
               
                <div id="containerRevision"/>
                </div> 

              <div style="position: fixed; bottom: 0; right: 0;">
                <button type="button" class="btn btn-previous botonForm"><i class="fa fa-arrow-left"></i></button>
                <button type="submit" class="btn btn-submit botonForm" id="revisado" form="formularioCarga" name="revisado" value="revisado" ><i class="fa fa-floppy-o"></i></button>  
                <button type="button" class="btn btn-next botonForm"><i class="fa fa-arrow-right"></i></button>
              </div>
            </div>
          </fieldset>
          <!-- Fin Cuarto Paso -->


          <!-- Quinto Paso -->
          <fieldset class="formField">
              <div class="form-bottom" data-step="5" data-title="Quinto Paso">
              <!-- Aqui va la barra lateral -->
                <div class="col-sm-1 col1Body">
                  <span class="step">1</span>
                  <span class="step">2</span>
                  <span class="step">3</span>
                  <span class="step">4</span>
                  <span class="step activePass">5</span> 
                  <span class="step">6</span>
                  <span class="step">7</span>
                </div>

                <!-- Aqui va la informacion -->
                <div class="col-sm-11 col11Body" >
                <h4 class="titulosForm"> Fase de Aprobación </h4>


                <!-- Campo de responsable de aprobación-->
                <div class="form-group">
                  <h5>Responsable de aprobación</h5>
                  <input type="text" class="input" name="aprobado_por" id="aprobado_por" placeholder="Aprobado Por:" /> 
                </div>

                <!-- Campo de fecha de aprobación -->
                <div class="form-group">
                  <h5>Fecha de aprobación</h5>
                  <input disabled="" class="datepicker" name="fechaAprobacion" id="fechaAprobacion" type="text" data-trigger="manual" data-content="Seleccione una fecha" data-date-end-date="0d" >

                  <h6 style="color:red" id="error_apro_1">La fecha de aprobación debe ser superior a la fecha de revisión de contenido</h6>
                          <h6 style="color:red" id="error_apro_2">La fecha de aprobación debe ser superior a la fecha de revisión de especificaciones</h6>  
                </div>  
                
                <!-- Campo de código de registro de aprobación -->
                <div class="form-group">
                  <h5>Código de registro de la aprobación</h5>
                  <input disabled='' type="text" class="input" name="cod_registro" id="cod_registro" placeholder="Código de Registro de Aprobacion" /> 
                </div>

        
              <div style="position: fixed; bottom: 0; right: 0;">
                <button type="button" class="btn btn-previous botonForm"><i class="fa fa-arrow-left"></i></button>  
                <button type="button" class="btn btn-next botonForm"><i class="fa fa-arrow-right"></i></button>
              </div>
            </div>
          </fieldset>
          <!-- Fin Quinto Paso -->

          <!-- Sexto Paso -->
          <fieldset class="formField">
              <div class="form-bottom" data-step="6" data-title="Sexto Paso">
              <!-- Aqui va la barra lateral -->
                <div class="col-sm-1 col1Body">
                  <span class="step">1</span>
                  <span class="step">2</span>
                  <span class="step">3</span>
                  <span class="step">4</span> 
                  <span class="step">5</span>
                  <span class="step activePass">6</span>
                  <span class="step">7</span>
                </div>

              <!-- Aqui va la informacion -->
                <div class="col-sm-11 col11Body" >
                <h4 class="titulosForm">Ubicación del Documento</h4>

                <!-- Campo de ubicación física del documento -->
                <div class="form-group">
                  <h5>Ubicación física</h5>
                  <input  disabled="" type="text" class="input" name="ubicacion_fisica" id="ubicacion_fisica" placeholder="Ubicación física del documento" value="{{=doc.ubicacion_fisica}}" />
                  <h6>Indique la carpeta, archivo, estante u otro se puede
                      acceder al documento</h6>
                </div>  

                <!-- Campo de ubicación electrónica del documento -->
                <div class="form-group">
                  <h5>Ubicación electrónica</h5>
                  <input disabled=""  type="text" class="input" name="archivo_el" id="archivo_el" placeholder="Archivo electrónico" vlaue="{{=doc.ubicacion_electronica}}"/> 
                  <h6>Indique la carpeta, archivo, estante u otro se puede
                      acceder al documento</h6>
                </div>

                <!-- Campo de vínculo del documento -->
                <div class="form-group">
                  <label>Vínculo: </label>
                  <input type="text" class="input" name="vinculo" id="vinculo" placeholder="Ingrese el vinculo" /> 
                </div>

              <div style="position: fixed; bottom: 0; right: 0;">
                <button type="button" class="btn btn-previous botonForm"><i class="fa fa-arrow-left"></i></button>  
                <button type="button" class="btn btn-next botonForm"><i class="fa fa-arrow-right"></i></button>
              </div>
           </div>
          </fieldset>
          <!-- Fin Sexto Paso -->



          <!-- Séptimo Paso -->
          <fieldset class="formField">
              <div class="form-bottom" data-step="7" data-title="Septimo Paso">
              <!-- Aqui va la barra lateral -->
                <div class="col-sm-1 col1Body">
                  <span class="step">1</span>
                  <span class="step">2</span>
                  <span class="step">3</span>
                  <span class="step">4</span> 
                  <span class="step">5</span>
                  <span class="step">6</span>
                  <span class="step activePass">7</span>
                </div>

                <!-- Aqui va la informacion -->
                <div class="col-sm-11 col11Body" >
                <h4 class="titulosForm">Registro de Control de Cambios del documento</h4>


                <!-- Campo del control de cambios -->
                <div class="form-group">
                  <h5>Código de registro de control de cambios</h5>
                  <input disabled='' type="text" class="input" name="cod_controlCambios" id="cod_controlCambios" placeholder="Cod Registro de control de cambios" /> 
                </div>

                <!-- Campo de la fecha del control de cambios -->
                <div class="form-group">
                  <h5>Fecha de control de cambios</h5>
                
                   <input disabled="" class="datepicker" name="fechaControlCambios" id="fechaControlCambios" type="text" data-trigger="manual" data-content="Seleccione una fecha"  data-date-end-date="0d">
                   <h6 style="color:red" id="error_cambios">La fecha de control de cambios debe ser superior a la fecha de elaboración</h6>

                </div>

                <!-- Campo de Elaborado por -->
                <div class="form-group">
                  <h5>Elaborador del control de cambios</h5>
                  <input type="text" class="input" name="ccelaborado" id="ccelaborado" placeholder="Elaborado por" /> 
                </div>

                <!-- Campo de Ubicación del registro en formato físico -->
                <div class="form-group">
                  <h5>Ubicación del registro en formato físico</h5>
                  <input disabled='' type="text" class="input" name="registro_fisico" id="registro_fisico" placeholder="Ubicación del registro en formato físico" /> 
                  <h6>Indique la carpeta, archivo, estante u otro se puede
                        acceder al documento</h6>
                </div>

                <!-- Campo deUbicación del registro en formato físicoo -->
                <div class="form-group">
                  <h5>Ubicación del registro en formato electrónico</h5>
                  <input disabled='' type="text" class="input" name="registro_electronico" id="registro electronico" placeholder="Ubicación del registro en formato electrónico" /> 
                  <h6>Indique la carpeta, archivo, estante u otro se puede
                        acceder al documento</h6>
                </div>

                <div style="position: fixed; bottom: 0; right: 0;">
                  <button type="button" class="btn btn-previous botonForm"><i class="fa fa-arrow-left"></i></button>  
                  <button type="submit" class="btn btn-submit botonForm" id="submit" form="formularioCarga" name="aprobado" value="aprobado" ><i class="fa fa-floppy-o"></i></button>  
                </div>
            </div>
          </fieldset>
          <!-- Fin Sexto Paso -->

        </form>
      </div>
    </div>               
    </div>
  </div>  
</div>
</div>

<form method="POST">
  <div class="modal fade" id="modalEliminar" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header text-center">
          <i class="fa fa-exclamation-triangle fa-4x" style="color: orange;" aria-hidden="true"></i>
          <h4 class="modal-title" id="exampleModalLabel">Eliminar Documento</h4>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body text-center">
          ¿Está seguro que desea eliminar este documento?
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancelar</button>
          <button type="submit" name="eliminar" value="eliminar" class="btn btn-danger">Si</button>
        </div>
      </div>
    </div>
  </div>
</form>










  {{pass}}


<script type="text/javascript">


  function get_code(i){
    cod = i[i.selectedIndex].id; // get value
    document.getElementById("codigo").value = cod + "-";
  }

</script>


<script type="text/javascript">
  $(function() {
    $('.datepicker').datepicker({
        format: 'yyyy-mm-dd'
      })  
  });

  $(function() {
    
    var scntDiv = $('#p_scents');
    var i = $('#p_scents p').length + 1;

    $('.form-group').on('click', '#addScnt', function() {

      $('<p><input type="text" id="p_scnt" size="20" name="elaborador' + i +'" value="" placeholder="Ingrese un elaborador" /> <a href="#" id="remScnt"><span class="fa fa-trash-o"></span></a></p>').appendTo(scntDiv);
      i++;
      return false;
    });
    
    $('.form-group').on('click', '#remScnt', function() { 
      if( i > 2 ) {
        $(this).parents('p').remove();
        i--;
      }
      return false;
    });
  });

</script>

<script type="text/javascript">

  
  $(function() {
    console.log("fincion de anexo");

    var scntDiv = $('#p_anexo');
    var i = $('#p_anexo p').length + 1;
    
    var c = codigoDoc();

    $('.form-group').on('click', '#addAnexo', function() {
      console.log("campo de anexo");
      $('<p><input type="text"  name="anexo_code' + i +'" value=" '+ c +' "  /><a href="#" id="remScnt"><span class="fa fa-trash-o"></span></a></p><p><input type="text"  name="anexo_name' + i +'" placeholder="Nombre del anexo"  /> <a href="#" id="remScnt"><span class="fa fa-trash-o"></span></a></p>' ).appendTo(scntDiv);

      i++;
      return false;
    });
    
    $('.form-group').on('click', '#remScnt', function() { 
      if( i > 1 ) {
        $(this).parents('p').remove();
        i--;
      }
      return false;
    });
  });

  function codigoDoc(){
     var codigoDocumento = document.getElementById("codigo").value;
     console.log(codigoDocumento);
     return codigoDocumento;
  }


</script>



  <script>
  $(function() {
    $('.datepicker').datepicker({
        format: 'yyyy-mm-dd'
      })  
  });
function estatus(){
   if($('.tipo_doc').data('atributo')!='Otro'){
     jQuery('#otro_tipo').hide();
   }
   if($('#elaborador0').data('atributo')=='None' ){

     jQuery('#elaborador0').hide();
   }else{
     jQuery('#sinElaboradores').hide();
   }

   if($('#elaborador1').data('atributo')=='None'){
     jQuery('#elaborador1').hide();
     jQuery('#elaborador0').hide();
   }if($('#elaborador2').data('atributo')=='None'){
     jQuery('#elaborador2').hide();
   }
   if($('#elaborador3').data('atributo')=='None'){
     jQuery('#elaborador3').hide();
   }
   if($('#elaborador4').data('atributo')=='None'){
     jQuery('#elaborador4').hide();
   }

   if($('#anexo1').data('atributo')=='None'){
     jQuery('#anexo1').hide();
   }else{
       jQuery('#sinAnexos').hide();

   }if($('#anexo2').data('atributo')=='None'){
     jQuery('#anexo2').hide();
   }if($('#anexo3').data('atributo')=='None'){
     jQuery('#anexo3').hide();
   }if($('#anexo4').data('atributo')=='None'){
     jQuery('#anexo4').hide();
   }if($('#anexo5').data('atributo')=='None'){
     jQuery('#anexo5').hide();
   }
   if($('#consejo_asesor_info').data('atributo')=='None'){
     jQuery('#labelCA').hide();
     jQuery('#consejo_asesor_info').hide();
   }
  console.log("estatus");
      if($('.form-group').data('atributo')=='Planificado'){
     
        jQuery('#objetivos').removeAttr('disabled');
        jQuery('#periodo').removeAttr('disabled');
        jQuery('#fecha_prox_rev').removeAttr('disabled');

        jQuery('#addAnexo').removeAttr('disabled');
        //jQuery('#elaboradores').hide();



        jQuery('#revision_contenido').removeAttr('disabled');
        jQuery('#fecha_revision_contenidos').removeAttr('disabled');
        jQuery('#revision_especificaciones').removeAttr('disabled');
        jQuery('#fecha_revision_especificaciones').removeAttr('disabled');
        jQuery('#revision_consejo').removeAttr('disabled');
        jQuery('#fecha_revision_consejo').removeAttr('disabled');
        jQuery('#aprobado').removeAttr('disabled');
        jQuery('#fechaAprobacion').removeAttr('disabled');
        jQuery('#cod_registro').removeAttr('disabled');
        jQuery('#cod_controlCambios').removeAttr('disabled');
        jQuery('#fechaControlCambios').removeAttr('disabled');
        jQuery('#ubicacion_fisica').removeAttr('disabled');
        jQuery('#archivo_el').removeAttr('disabled');
        jQuery('#cod_controlCambios').removeAttr('disabled');
        jQuery('#fechaControlCambios').removeAttr('disabled');
        jQuery('.consejo_asesor_info').hide();
        //jQuery('.anexos').hide();
      }else if($('.form-group').data('atributo')=='Elaborado'){
        jQuery('#revision_contenido').removeAttr('disabled');
        jQuery('#fecha_revision_contenidos').removeAttr('disabled');
        jQuery('#revision_especificaciones').removeAttr('disabled');
        jQuery('#fecha_revision_especificaciones').removeAttr('disabled');
        jQuery('#revision_consejo').removeAttr('disabled');
        jQuery('#fecha_revision_consejo').removeAttr('disabled');
        jQuery('#aprobado').removeAttr('disabled');
        jQuery('#fechaAprobacion').removeAttr('disabled');
        jQuery('#cod_registro').removeAttr('disabled');
        jQuery('#cod_controlCambios').removeAttr('disabled');
        jQuery('#fechaControlCambios').removeAttr('disabled');
        jQuery('#ubicacion_fisica').removeAttr('disabled');
        jQuery('.consejo_asesor_info').hide();
        jQuery('#p_scents').hide();
        jQuery('#archivo_el').removeAttr('disabled');
        jQuery('#addAnexo').hide();
        jQuery('#addScnt').hide(); 
        jQuery('#elaborado').hide(); 
        document.getElementById("p_scnt").value = "definido";

      }else if($('.form-group').data('atributo')=='Revisado'){
        jQuery('#aprobado_por').removeAttr('disabled');
        jQuery('#fechaAprobacion').removeAttr('disabled');
        jQuery('#cod_registro').removeAttr('disabled');
        jQuery('#cod_controlCambios').removeAttr('disabled');
        jQuery('#fechaControlCambios').removeAttr('disabled');
        jQuery('#ubicacion_fisica').removeAttr('disabled');
        jQuery('#archivo_el').removeAttr('disabled');
        jQuery('.consejo_asesor').hide();
        jQuery('#addScnt').hide(); 
        
        jQuery('#p_scents').hide()
        jQuery('#p_anexo').hide(); 
        jQuery('#elaborado').hide(); 
        jQuery('#revisado').hide();
        //document.getElementById("p_scnt").value = "definidoR";
        
        
      }else if($('.form-group').data('atributo')=='Aprobado'){
        jQuery('#ubicacion_fisica').removeAttr('disabled');
        jQuery('#archivo_el').removeAttr('disabled');
        jQuery('.consejo_asesor').hide();
        jQuery('#addAnexo').hide();
        jQuery('#addScnt').hide(); 
        jQuery('#p_scents').hide();
        jQuery('#p_anexo').hide(); 
        jQuery('#elaborado').hide(); 
        document.getElementById("p_scnt").value = "definido";
        
      }
    }


  </script>
  <script type="text/javascript">
    // Get the modal
    var modal = document.getElementById('adddoc');
    // Get the button that opens the modal
    var btn = document.getElementById("botonModal");
    // Get the <span> element that closes the modal
    var span = document.getElementsByClassName("close")[0];
    // When the user clicks on the button, open the modal 
    btn.onclick = function() {
        modal.style.display = "block";
    }
    // When the user clicks on <span> (x), close the modal
    span.onclick = function() {
        modal.style.display = "none";
    }
    // When the user clicks anywhere outside of the modal, close it
    window.onclick = function(event) {
        if (event.target == modal) {
            modal.style.display = "none";
        }
    }
    $('#edit_send').click(function(event){
        window.reload();
    });


  </script>


<script src="{{=URL('static','js/agregarDoc.js')}}"></script>
<script src="{{=URL('static', 'plugins/datatables/dataTables.buttons.min.js')}}"></script>
<script src="{{=URL('static', 'plugins/datatables/buttons.bootstrap.min.js')}}"></script>
<script src="{{=URL('static', 'plugins/datatables/jszip.min.js')}}"></script>
<script src="{{=URL('static', 'plugins/datatables/pdfmake.min.js')}}"></script>
<script src="{{=URL('static', 'plugins/datatables/vfs_fonts.js')}}"></script>
<script src="{{=URL('static', 'plugins/datatables/buttons.html5.min.js')}}"></script>
<script src="{{=URL('static', 'plugins/datatables/buttons.print.min.js')}}"></script>
<script src="{{=URL('static', 'plugins/datatables/dataTables.responsive.min.js')}}"></script>
<script src="{{=URL('static', 'plugins/datatables/responsive.bootstrap.min.js')}}"></script>




<!-- Datatable init js -->
<script src="{{=URL('static', 'plugins/datatables/datatables.init.js')}}"></script>


<script>

  var filtros = false;
  const langDT = "{{=URL('static', 'plugins/datatables/l18n/es-ES.json')}}"
  $(document).ready(function() {
    // Setup - add a text input to each footer cell
    $('#datatable tfoot th').each( function () {
      var title = $(this).text();
      $(this).html( '<input type="text" placeholder="Filtro" />' );
    } );
   
    // DataTable
    var table = $('#datatable').DataTable();
   
    // Apply the search
    table.columns().every( function () {
      var that = this;
   
      $( 'input', this.footer() ).on( 'keyup change', function () {
        if ( that.search() !== this.value ) {
          that
            .search( this.value )
            .draw();
        }
      } );
    } );

    $('#datatable tfoot tr').appendTo('#datatable thead');
    $("#datatable thead tr").not("#titulosListado").css("display","none");
  } );

  function mostrarFiltro() {
    if (filtros){
    $("#datatable thead tr").not("#titulosListado").css("display","none");
    filtros = false
    }
    else{
    $("#datatable thead tr").not("#titulosListado").css("display","table-row");
    filtros = true
    }
  }
    $("#error_rev_cont").hide();
  $("#error_rev_esp").hide();
  $("#con_as_div").hide();
  $("#error_con_1").hide();
  $("#error_con_2").hide();
  $("#error_apro_1").hide();
  $("#error_apro_2").hide();
  $("#error_cambios").hide();
  var fecha_prox_rev = $("#fecha_prox_rev").val();
  var fecha_revision_contenidos = $("#fecha_revision_contenidos").val();
  var fecha_revision_especificaciones = $("#fecha_revision_especificaciones").val();
  var fecha_revision_consejo = $("#fecha_revision_consejo").val();
  var fechaAprobacion = $("#fechaAprobacion").val();
  var fechaControlCambios = $("#fechaControlCambios").val();
  $("#fecha_prox_rev").change(function () {
    fecha_prox_rev = $("#fecha_prox_rev").val();
    let fecha = fecha_prox_rev.split("-");
    let fecha_end = new Date(fecha[0],(fecha[1]-1),fecha[2]);
    $('#fecha_revision_contenidos').attr('data-date-start-date',fecha_end)  
    $('#fecha_revision_especificaciones').attr('data-date-start-date',fecha_end)  
  });

  $("#fecha_revision_contenidos").change(function () {
    fecha_revision_contenidos = $("#fecha_revision_contenidos").val();
    if(validate_fechaMayorQue(fecha_prox_rev,fecha_revision_contenidos)){
      $("#error_rev_cont").hide()
      $(".enviar").removeAttr("disabled")
    }else{
      $("#error_rev_cont").show()
      $(".enviar").attr('disabled','disabled')

    }
  });

  $("#fecha_revision_especificaciones").change(function () {
    fecha_revision_especificaciones = $("#fecha_revision_especificaciones").val();
    if(validate_fechaMayorQue(fecha_prox_rev,fecha_revision_especificaciones)){
      $("#error_rev_esp").hide()
      $(".enviar").removeAttr("disabled")
    }else{
      $("#error_rev_esp").show()
      $(".enviar").attr('disabled','disabled')
    }
  });

  $("#fecha_revision_consejo").change(function () {
    fecha_revision_consejo = $("#fecha_revision_consejo").val();
    if(validate_fechaMayorQue(fecha_revision_contenidos,fecha_revision_consejo)){
      $("#error_con_1").hide()
      $(".enviar").removeAttr("disabled")
    }else{
      $("#error_con_1").show()
      $(".enviar").attr('disabled','disabled')
    }

    if(validate_fechaMayorQue(fecha_revision_especificaciones,fecha_revision_consejo)){
      $("#error_con_2").hide()
      $(".enviar").removeAttr("disabled")
    }else{
      $("#error_con_2").show()
      $(".enviar").attr('disabled','disabled')
    }

  });
  $("#fechaControlCambios").change(function () {
    fechaControlCambios = $("#fechaControlCambios").val();
    if(validate_fechaMayorQue(fecha_prox_rev,fechaControlCambios)){
      $("#error_cambios").hide()
      $(".enviar").removeAttr("disabled")
    }else{
      $("#error_cambios").show()
      $(".enviar").attr('disabled','disabled')
    }
  });

  $("#fechaAprobacion").change(function () {
    fechaAprobacion = $("#fechaAprobacion").val();
    if(validate_fechaMayorQue(fecha_revision_contenidos,fechaAprobacion)){
      $("#error_apro_1").hide()
      $(".enviar").removeAttr("disabled")
    }else{
      $("#error_apro_1").show()
      $(".enviar").attr('disabled','disabled')
    }

    if(validate_fechaMayorQue(fecha_revision_especificaciones,fechaAprobacion)){
      $("#error_apro_2").hide()
      $(".enviar").removeAttr("disabled")
    }else{
      $("#error_apro_2").show()
      $(".enviar").attr('disabled','disabled')
    }
  });
  function validate_fechaMayorQue(fechaInicial,fechaFinal)
  {

    valuesStart=fechaInicial.split("-");

    valuesEnd=fechaFinal.split("-");

    // Verificamos que la fecha no sea posterior a la actual

    var dateStart=new Date(valuesStart[0],(valuesStart[1]-1),valuesStart[2]);

    var dateEnd=new Date(valuesEnd[0],(valuesEnd[1]-1),valuesEnd[2]);

    if(dateStart>=dateEnd)
    {
        return false;
    }

    return true;

  }
  function agregarFecha(){

    $("#relleno").html('<div class="form-group" id="con_as_div"><h5>Fecha de revisión por Consejo Asesor</h5><input class="datepicker" name="fecha_revision_consejo" id="fecha_revision_consejo" type="text" data-placement="bottom" data-trigger="manual" data-content="Seleccione una fecha" data-date-end-date="0d" readonly=""><h6 style="color:red" id="error_con_1">La fecha de revisión por el concejo asesor debe ser posterior a la fecha de revisión de contenido</h6><h6 style="color:red" id="error_con_2">La fecha de revisión por el concejo asesor debe ser posterior a la fecha de revisión de especificaciones</h6></div>');
    $("#error_con_1").hide();
    $("#error_con_2").hide();
    $(function() {
    $('.datepicker').datepicker({
          format: 'yyyy-mm-dd'
        })  

    });
    $("#fecha_revision_consejo").change(function () {
      fecha_revision_consejo = $("#fecha_revision_consejo").val();
      if(validate_fechaMayorQue(fecha_revision_contenidos,fecha_revision_consejo)){
        $("#error_con_1").hide()
        $(".enviar").removeAttr("disabled")
      }else{
        $("#error_con_1").show()
        $(".enviar").attr('disabled','disabled')
      }

      if(validate_fechaMayorQue(fecha_revision_especificaciones,fecha_revision_consejo)){
        $("#error_con_2").hide()
        $(".enviar").removeAttr("disabled")
      }else{
        $("#error_con_2").show()
        $(".enviar").attr('disabled','disabled')
      }

    });

    
  }

  function eliminarFecha(){

    $("#relleno").empty();
    $(".enviar").removeAttr("disabled");
    /*var container = document.getElementById("containerRevision");
    while (container.hasChildNodes()) {
      container.removeChild(container.lastChild);
    }*/

  }
</script>
 <script language="javascript" src="{{=URL('static', 'js/botones_dataTable.js')}}"></script>

{{end}}